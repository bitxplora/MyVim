$ git clone https://github.com/vim/vim
$ cd vim
$ make distclean
$ CFLAGS='-g -gdwarf-4 -DDEBUG -O0 -fno-omit-frame-pointer' \
    ./configure --with-features=huge \
                --enable-python3interp \
                --enable-terminal  \
                --enable-fail-if-missing 
$ make -j$(nproc)     # Using -j$(nproc) will speed up the build by using all your CPU cores.
$ sudo make install   # Install it to /usr/local/bin



Flag,What it does,Why you want it

--with-features=huge,"Enables the maximum set of internal Vim features (like
  floating-point math, signs, and timers).","Critical. Without this, many modern
  features (including the new autocomplete) might not be included."

--enable-multibyte,"Allows Vim to handle non-ASCII characters (like UTF-8,
  emojis, or foreign languages).",Essential for modern coding and file
  encoding.

--enable-python3interp=yes,Links Vim to your system's Python 3.,Many popular
  plugins (like Ultisnips or Gundo) require Python to run.
  
--enable-luainterp=yes,Links Vim to Lua.,Lua is extremely fast and is
  becoming the standard for modern Vim and Neovim scripting.

--enable-gui=auto,Tells the installer to build gVim (the graphical version)
  if it finds the right libraries (GTK/X11).,Gives you the option to use Vim in
  its own window rather than just the terminal.

--enable-cscope,Enables support for Cscope.,"A powerful tool for navigating
  large codebases (finding where functions are called, etc.)."

--prefix=/usr/local,"Sets the installation ""destination.""","""/usr/local is
  the standard ""safe"" spot for software you build yourself. it prevents your
  manual build from overwriting the version managed by your OS.""

--enable-terminal, The flag --enable-terminal is the configuration switch that builds the built-in terminal emulator into Vim.
  While --with-features=huge typically includes it by default, adding it explicitly ensures that your new Vim will have the +terminal feature.
  
  The flag `--enable-terminal` is the
  configuration switch that builds the **built-in terminal emulator** into Vim.

  While `--with-features=huge` typically includes it by default, adding it
  explicitly ensures that your new Vim will have the `+terminal` feature.

### What it actually does

  Once compiled with this flag, you get access to the `:terminal` command (or
      `:term` for short). This allows you to:

  * **Open a shell inside Vim:** You can open a fully functional bash/zsh shell
  * in a split window without leaving your editor.
  * **Run asynchronous jobs:** You can run a command like `make` or `npm
  * install` in a window. Because it is asynchronous, the terminal window will
  * update in real-time while you continue editing code in another window.
  * **Interact with output:** Unlike the old `!command` (which freezes Vim
      * until the command finishes), the terminal window allows you to scroll
  * through previous output, search the buffer, and even copy text from the
  * shell output into your code.

### How it looks in practice

  After you finish your build, you can try these commands inside Vim:

  | Command | Action |
  | --- | --- |
  | `:term` | Opens your default shell in a horizontal split. |
  | `:vertical term` | Opens a shell in a vertical split. |
  | `:term gcc % -o out` | Compiles your current file and shows the output in a split window. |
  | **`Ctrl-w N`** | (In a terminal window) Switches to "Terminal-Normal" mode, allowing you to use Vim motions (`G`, `?`, `y`) on the shell output. |

### Why use it instead of just switching windows?

  1. **Shared Clipboard:** It is much easier to yank a stack trace or an error
  message from a Vim terminal buffer into your code than it is to copy/paste
  between a separate terminal and Vim.
  2. **Context:** You can keep your code on the left and a running log or test
  runner on the right, both managed by the same Vim session.
  3. **One Process:** It simplifies your workflow if you are working over SSH;
  you only need one terminal connection to manage both your editor and your
  shell.


### The `Ctrl-w N`

  In the context of the Vim built-in terminal (which you are enabling with
      `--enable-terminal`), **`Ctrl-w N`** is one of the most important
  shortcuts you will use.

  It is the command to enter **Terminal-Normal Mode.**

### The Problem: "Terminal Mode" is restrictive

  When you open a terminal in Vim (`:term`), you are in **Terminal-Job Mode**.
  In this mode:

  * Your keystrokes are sent directly to the shell (typing `ls` runs the
      * command).
  * You cannot move your cursor up to look at previous output.
  * You cannot search for text using `/`.
  * You cannot "yank" (copy) text from the terminal output.

### The Solution: `Ctrl-w N`

  When you press `Ctrl-w` followed by `Shift-n` (capital `N`), Vim **"pauses"**
  the live terminal interaction and treats the terminal window like a regular
  text file.

  Once you are in this mode, you can use all your standard Vim powers on the
  shell output:

  * **Navigation:** Use `k`, `j`, `h`, `l` to move around, or `Ctrl-u` /
  * `Ctrl-d` to scroll.
  * **Searching:** Press `/` and type a keyword to find an error or a specific
  * file name in the terminal history.
  * **Yanking:** Move to a line of output and press `yy` to copy it, then go to
  * your code window and `p` to paste it.
  * **Visual Mode:** Use `v` to highlight a specific block of text from your
  * terminal.

  ---

### How to get back to the Shell

  Once you have finished copying or searching and want to start typing commands
  again:

  * Press **`i`** (Insert) or **`a`** (Append).
  * The cursor will jump back to the "active" command line at the bottom, and
  * you are back to interacting with the shell.

### Pro-Tip: Mapping it to something easier

  Many users find `Ctrl-w N` a bit awkward to type. Once you have your new Vim
  built, you can add this to your `.vimrc` to make it just hitting the `Escape`
  key (like you do in regular Vim):

    ```vim
    " Make Escape exit Terminal-Job mode and enter Terminal-Normal mode
    tnoremap <Esc> <C-w>N
    ```
